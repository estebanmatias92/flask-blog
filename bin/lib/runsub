#!/bin/bash

progname=$(basename $0)
subcommand=$1

case $subcommand in
    "" | "-h" | "--help")
        sub_help
        ;;
    *)
        shift
        if type "sub_${subcommand}" >/dev/null 2>&1; then
            "sub_${subcommand}" "$@"
        else
            echo "Error: '$subcommand' is not a known subcommand." >&2
            echo "" >&2
            echo "    Run '$progname --help' for a list of known subcommands." >&2
            exit 1
        fi
        
        #if [ $? -eq 127 ]; then
        #    echo "Error: '$subcommand' is not a known subcommand." >&2
        #    echo "" >&2
        #    echo "    Run '$progname --help' for a list of known subcommands." >&2
        #    exit 1
        #fi
        ;;
esac